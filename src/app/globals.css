@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

html,
body,
:root {
  height: 100%;
}

#root {
  height: 100%;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* Sidebar tokens */
  --color-sidebar: var(--sidebar);
  --color-navbar: var(--navbar);
  --color-hover: var(--hover);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

:root {
  --radius: 0.625rem;

  /* Light theme - Slack-like */
  --background: #ffffff; /* content bg */
  --foreground: #1d1c1d; /* primary text */
  --card: #ffffff;
  --card-foreground: #1d1c1d;
  --popover: #ffffff;
  --popover-foreground: #1d1c1d;
  --primary: #00553d; /* Slack green */
  --primary-foreground: #ffffff;
  --secondary: #f7f7f7; /* toolbars, editor chrome */
  --secondary-foreground: #1d1c1d;
  --muted: #f5f5f5;
  --muted-foreground: #616061; /* Slack muted */
  --accent: #f1e4f9; /* selected chip background */
  --accent-foreground: #4a154b; /* aubergine text */
  --destructive: #e01e5a;
  --border: #d4d4d4; /* subtle borders */
  --input: #e8e8e9;
  --ring: #1264a3; /* focus blue */
  --hover: #f8f8fa;

  /* Sidebar light (Aubergine) */
  --navbar: #39063a;
  --sidebar: #4e1f50;
  --sidebar-foreground: #ffffffd9; /* ~85% white */
  --sidebar-primary: #ffffff;
  --sidebar-primary-foreground: #4a154b;
  --sidebar-accent: #f1e4f9; /* selection */
  --sidebar-accent-foreground: #4a154b;
  --sidebar-border: #3e1141;
  --sidebar-ring: #a566b7;
}

.dark {
  /* Dark theme - Slack-like */
  --background: #1a1d21; /* content bg */
  --foreground: #d1d2d3; /* text */
  --card: #1f2329;
  --card-foreground: #e7e9ec;
  --popover: #1f2329;
  --popover-foreground: #e7e9ec;
  --primary: #00553d;
  --primary-foreground: #d1d2d3;
  --secondary: #23272e; /* toolbars */
  --secondary-foreground: #e7e9ec;
  --muted: #23272e;
  --muted-foreground: #a1a6ad;
  --accent: #2a2030; /* selected in sidebar */
  --accent-foreground: #e9d7ff;
  --destructive: #f26f7d;
  --border: #363a3e;
  --input: #2a2f36;
  --ring: #7db4ff;
  --hover: #222529;

  /* Sidebar dark (Aubergine dark) */
  --navbar: #431349;
  --sidebar: #251329;
  --sidebar-foreground: #d6cde1;
  --sidebar-primary: #02b37f;
  --sidebar-primary-foreground: #081a16;
  --sidebar-accent: #2a2030;
  --sidebar-accent-foreground: #e9d7ff;
  --sidebar-border: #7d5a88;
  --sidebar-ring: #7d5a88;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Quill editor theming via tokens */
.ql-toolbar {
  border: none !important;
  border-bottom: 1px solid var(--border) !important;
  background-color: var(--secondary) !important;
}
.ql-toolbar .ql-formats:not(:last-child) {
  border-right: 1px solid var(--border) !important;
  padding-right: 12px !important;
}
.ql-container {
  border: none !important;
  height: unset !important;
  background-color: var(--background) !important;
}
.ql-editor {
  line-height: 22px !important;
  padding: 8px 12px !important;
  color: var(--foreground) !important;
  font-weight: 400 !important;
  font-family: "Lato", sans-serif !important;
  font-size: 14px !important;
}

/* Quill toolbar icon colors (light/dark via variables) */
.ql-toolbar .ql-stroke {
  stroke: var(--muted-foreground) !important;
}
.ql-toolbar .ql-fill {
  fill: var(--muted-foreground) !important;
}

.ql-toolbar button:hover .ql-stroke,
.ql-toolbar button:focus .ql-stroke,
.ql-toolbar .ql-picker-label:hover .ql-stroke,
.ql-toolbar .ql-picker-item:hover .ql-stroke {
  stroke: var(--foreground) !important;
}

.ql-toolbar button:hover .ql-fill,
.ql-toolbar button:focus .ql-fill,
.ql-toolbar .ql-picker-label:hover .ql-fill,
.ql-toolbar .ql-picker-item:hover .ql-fill {
  fill: var(--foreground) !important;
}

.ql-toolbar button.ql-active .ql-stroke,
.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
.ql-toolbar .ql-picker-item.ql-selected .ql-stroke {
  stroke: var(--primary) !important;
}

.ql-toolbar button.ql-active .ql-fill,
.ql-toolbar .ql-picker-label.ql-active .ql-fill,
.ql-toolbar .ql-picker-item.ql-selected .ql-fill {
  fill: var(--primary) !important;
}

.ql-toolbar .ql-picker-label {
  color: var(--muted-foreground) !important;
}
.ql-toolbar .ql-picker-label:hover,
.ql-toolbar .ql-picker-label.ql-active {
  color: var(--foreground) !important;
}

.ql-toolbar .ql-picker-options {
  background-color: var(--popover) !important;
  color: var(--foreground) !important;
  border: 1px solid var(--border) !important;
}
.ql-toolbar .ql-picker-options .ql-picker-item {
  color: var(--foreground) !important;
}
.ql-toolbar .ql-picker-options .ql-picker-item:hover {
  color: var(--primary) !important;
}

.ql-editor a {
  color: #1264a3 !important;
}
.ql-editor a:hover {
  text-decoration: underline !important;
}
.ql-renderer {
  padding: 0 !important;
}
.ql-editor::before {
  left: 12px !important;
  font-family: "Lato", sans-serif !important;
  color: var(--muted-foreground) !important;
  font-style: normal !important;
  font-size: 14px !important;
  font-weight: 400 !important;
  @apply truncate;
}

.messages-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: #b2b8bb var(--background);
}

img {
  user-drag: none !important;
  -webkit-user-drag: none !important;
  -khtml-user-drag: none !important;
  -moz-user-drag: none !important;
  -o-user-drag: none !important;
  user-select: none !important;
  -webkit-user-select: none !important;
  -khtml-user-select: none !important;
  -moz-user-select: none !important;
  -o-user-select: none !important;
}
