@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

html,
body,
:root {
  height: 100%;
}

#root {
  height: 100%;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* Sidebar tokens */
  --color-sidebar: var(--sidebar);
  --color-navbar: var(--navbar);
  --color-hover: var(--hover);
  --color-workspace-header: var(--workspace-header);
  --color-sidebar-active: var(--sidebar-active);
  --color-sidebar-active-foreground: var(--sidebar-active-foreground);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

:root {
  --radius: 0.625rem;

  /* Light theme - Slack-like (default aubergine) */
  --background: #ffffff; /* content bg */
  --foreground: #1d1c1d; /* primary text */
  --card: #ffffff;
  --card-foreground: #1d1c1d;
  --popover: #ffffff;
  --popover-foreground: #1d1c1d;
  --primary: #00553d; /* Slack green */
  --primary-foreground: #ffffff;
  --secondary: #f7f7f7; /* toolbars, editor chrome */
  --secondary-foreground: #1d1c1d;
  --muted: #f5f5f5;
  --muted-foreground: #616061; /* Slack muted */
  --accent: #f1e4f9; /* selected chip background */
  --accent-foreground: #4a154b; /* aubergine text */
  --destructive: #e01e5a;
  --border: #d4d4d4; /* subtle borders */
  --input: #e8e8e9;
  --ring: #c8c8c8;
  --hover: #f8f8fa;

  --navbar: #39063a;
  --sidebar: #4e1f50;
  --sidebar-foreground: #ffffffd9;
  --sidebar-accent: #693e6c;
  --sidebar-accent-foreground: #fcf8ff;
  --sidebar-border: #3e1141;
  --primary: #00553d;
  --sidebar-active: #f9edff;
  --sidebar-active-foreground: #481349;
  --workspace-header: #ffffff;
}

.dark {
  /* Dark theme - Slack-like (default aubergine) */
  --background: #1a1d21; /* content bg */
  --foreground: #d1d2d3; /* text */
  --card: #1f2329;
  --card-foreground: #e7e9ec;
  --popover: #1f2329;
  --popover-foreground: #e7e9ec;
  --primary: #00553d;
  --primary-foreground: #d1d2d3;
  --secondary: #23272e; /* toolbars */
  --secondary-foreground: #e7e9ec;
  --muted: #23272e;
  --muted-foreground: #a1a6ad;
  --accent: #2a2030; /* selected in sidebar */
  --accent-foreground: #e9d7ff;
  --destructive: #f26f7d;
  --border: #363a3e;
  --input: #2a2f36;
  --ring: #c8c8c8;
  --hover: #222529;

  /* Sidebar dark (Aubergine dark) */
  --navbar: #431349;
  --sidebar: #251329;
  --sidebar-foreground: #d6cde1;
  --sidebar-primary: #02b37f;
  --sidebar-primary-foreground: #081a16;
  --sidebar-accent: #78527d;
  --sidebar-accent-foreground: #e9d7ff;
  --sidebar-border: #7d5a88;
  --sidebar-ring: #7d5a88;
  --sidebar-active: #7d3986;
}

/* Additional palettes: Aubergine named (light/dark) */
.theme-aubergine {
  --navbar: #39063a;
  --sidebar: #4e1f50;
  --sidebar-foreground: #ffffffd9;
  --sidebar-accent: #693e6c;
  --sidebar-accent-foreground: #fcf8ff;
  --sidebar-border: #3e1141;
  --primary: #00553d;
  --sidebar-active: #f9edff;
  --sidebar-active-foreground: #481349;
  --workspace-header: #ffffff;
}
.theme-aubergine-dark {
  --background: #1a1d21;
  --foreground: #d1d2d3;
  --navbar: #431349;
  --sidebar: #251329;
  --sidebar-foreground: #d6cde1;
  --sidebar-accent: #78527d;
  --sidebar-accent-foreground: #e9d7ff;
  --sidebar-border: #7d5a88;
  --primary: #00553d;
  --sidebar-active: #7d3986;
  --sidebar-active-foreground: #fcf8ff;
  --workspace-header: #ffffff;
}

/* Uru palette (soft purple/lavender) */
.theme-uru {
  --navbar: #f4daff;
  --sidebar: #fefbff;
  --sidebar-foreground: #78527d;
  --sidebar-accent: #dfbdef;
  --sidebar-accent-foreground: #78527d;
  --sidebar-border: #9e0b2e;
  --primary: #9e0b2e;
  --accent: #f4daff;
  --workspace-header: #78527d;
  --sidebar-active: #9e0b2e;
  --sidebar-active-foreground: #ffffff;
}
.theme-uru-dark {
  --navbar: #2b2236;
  --sidebar: #362b45;
  --sidebar-foreground: #f4daff;
  --sidebar-accent: #3e3152;
  --sidebar-accent-foreground: #f4daff;
  --sidebar-border: #3e3152;
  --primary: #6b4caf;
  --accent: #6b4caf;
  --workspace-header: #f4daff;
  --sidebar-active: #6b4caf;
  --sidebar-active-foreground: #ffffff;
}

/* Ocean palette (teal/blue) */
.theme-ocean {
  --navbar: #0b2a33;
  --sidebar: #0d3b46;
  --sidebar-foreground: #e6f6fb;
  --sidebar-accent: #124d5c;
  --sidebar-accent-foreground: #ddf8ff;
  --sidebar-border: #0a2a32;
  --primary: #0b8a8f;
  --primary-foreground: #ffffff;
  --accent: #e6f8fb;
  --sidebar-active: #527580;
  --sidebar-active-foreground: #ffffff;
  --workspace-header: #e6f8fb;
}
.theme-ocean-dark {
  --background: #0f1417;
  --foreground: #d7e3e6;
  --navbar: #0a2229;
  --sidebar: #0b2a33;
  --sidebar-foreground: #d7e3e6;
  --sidebar-accent: #102d36;
  --sidebar-accent-foreground: #d7e3e6;
  --sidebar-border: #163a45;
  --primary: #11a6ad;
  --accent: #102d36;
  --sidebar-active: #6b94a0;
  --sidebar-active-foreground: #ffffff;
  --workspace-header: #e6f8fb;
}

/* Graphite palette (neutral gray) */
.theme-graphite {
  --navbar: #2b2d31;
  --sidebar: #2f3136;
  --sidebar-foreground: #f2f3f5;
  --sidebar-accent: #b9b8b8a0;
  --sidebar-accent-foreground: #ececec;
  --sidebar-border: #3a3c40;
  --primary: #212121;
  --accent: #eef0f2;
  --sidebar-active: #dadada;
  --sidebar-active-foreground: #1d1c1d;
  --workspace-header: #f2f3f5;
}
.theme-graphite-dark {
  --background: #181a1d;
  --foreground: #e5e7eb;
  --navbar: #1f2124;
  --sidebar: #202225;
  --sidebar-foreground: #e5e7eb;
  --sidebar-accent: #2a2d31;
  --sidebar-accent-foreground: #e5e7eb;
  --sidebar-border: #2d3035;
  --primary: #6366f1;
  --accent: #2a2d31;
  --sidebar-active: #d5d5d5;
  --sidebar-active-foreground: #1d1c1d;
  --workspace-header: #f2f3f5;
}

/* Coral palette (soft, pleasant, eye-friendly) */
.theme-sunset {
  --navbar: #2d1b1b;
  --sidebar: #3a2323;
  --sidebar-foreground: #f8f5f5;
  --sidebar-accent: #4a2e2e;
  --sidebar-accent-foreground: #f8f5f5;
  --sidebar-border: #2d1b1b;
  --primary: #673a3a;
  --accent: #fdf2f2;
  --sidebar-active: #673a3a;
  --sidebar-active-foreground: #ffffff;
  --workspace-header: #f8f5f5;
}
.theme-sunset-dark {
  --background: #1a1111;
  --foreground: #fff9f9;
  --navbar: #231515;
  --sidebar: #2d1b1b;
  --sidebar-foreground: #f3e8e8;
  --sidebar-accent: #3a2323;
  --sidebar-accent-foreground: #fefefe;
  --sidebar-border: #4a2e2e;
  --primary: #673a3a;
  --primary-foreground: #ffffff;
  --accent: #ffffff;
  --sidebar-active: #673a3a;
  --sidebar-active-foreground: #ffffff;
  --workspace-header: #f8f5f5;
}

/* Midnight palette (deep blue/purple) */
.theme-midnight {
  --navbar: #1a1b2e;
  --sidebar: #252640;
  --sidebar-foreground: #e8eaff;
  --sidebar-accent: #3d3b6a;
  --sidebar-accent-foreground: #ffffff;
  --sidebar-border: #2a2b4a;
  --primary: #8b5cf6;
  --accent: #f0f0ff;
  --sidebar-active: #5c3da4;
  --sidebar-active-foreground: #ffffff;
  --workspace-header: #f0f0ff;
}
.theme-midnight-dark {
  --background: #0f0f1a;
  --foreground: #d1d5ff;
  --navbar: #15162a;
  --sidebar: #1a1b2e;
  --sidebar-foreground: #d1d5ff;
  --sidebar-accent: #2a2b4a;
  --sidebar-accent-foreground: #ffffff;
  --sidebar-border: #3d3b6a;
  --primary: #a78bfa;
  --primary-foreground: #ffffff;
  --accent: #2a2b4a;
  --sidebar-active: #704ac8;
  --sidebar-active-foreground: #ffffff;
  --workspace-header: #f0f0ff;
}

/* Theme-aware search bar and input styling */
input[type="search"],
input[type="text"],
.search-input {
  background-color: var(--background) !important;
  color: var(--foreground) !important;
  border-color: var(--border) !important;
}

input[type="search"]:focus,
input[type="text"]:focus,
.search-input:focus {
  border-color: var(--ring) !important;
  box-shadow: 0 0 0 2px var(--ring) !important;
}

/* Theme-aware active selection styling */
.sidebar-item-active,
.sidebar-item[data-active="true"] {
  background-color: var(--sidebar-accent) !important;
  color: var(--sidebar-accent-foreground) !important;
}

.sidebar-item-active:hover,
.sidebar-item[data-active="true"]:hover {
  background-color: var(--sidebar-accent) !important;
}

/* Theme-aware hover states */
.sidebar-item:hover:not(.sidebar-item-active) {
  background-color: var(--hover) !important;
  color: var(--foreground) !important;
}

/* Line clamp utility */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Theme-aware search placeholder */
input::placeholder,
.search-input::placeholder {
  color: var(--muted-foreground) !important;
}

/* Additional theme-aware styling for better consistency */
.theme-ocean .ql-toolbar button.ql-active .ql-stroke,
.theme-ocean .ql-toolbar button.ql-active .ql-fill {
  stroke: var(--primary) !important;
  fill: var(--primary) !important;
}

.theme-graphite .ql-toolbar button.ql-active .ql-stroke,
.theme-graphite .ql-toolbar button.ql-active .ql-fill {
  stroke: var(--primary) !important;
  fill: var(--primary) !important;
}

.theme-sunset .ql-toolbar button.ql-active .ql-stroke,
.theme-sunset .ql-toolbar button.ql-active .ql-fill {
  stroke: var(--primary) !important;
  fill: var(--primary) !important;
}

.theme-midnight .ql-toolbar button.ql-active .ql-stroke,
.theme-midnight .ql-toolbar button.ql-active .ql-fill {
  stroke: var(--primary) !important;
  fill: var(--primary) !important;
}

/* Theme-aware focus states for better accessibility */
.theme-ocean input:focus,
.theme-ocean .search-input:focus {
  border-color: var(--primary) !important;
  box-shadow: 0 0 0 2px var(--primary) !important;
}

.theme-graphite input:focus,
.theme-graphite .search-input:focus {
  border-color: var(--primary) !important;
  box-shadow: 0 0 0 2px var(--primary) !important;
}

.theme-sunset input:focus,
.theme-sunset .search-input:focus {
  border-color: var(--primary) !important;
  box-shadow: 0 0 0 2px var(--primary) !important;
}

.theme-uru input:focus,
.theme-uru .search-input:focus {
  border-color: var(--primary) !important;
  box-shadow: 0 0 0 2px var(--primary) !important;
}

.theme-midnight input:focus,
.theme-midnight .search-input:focus {
  border-color: var(--primary) !important;
  box-shadow: 0 0 0 2px var(--primary) !important;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Quill editor theming via tokens */
.ql-toolbar {
  border: none !important;
  border-bottom: 1px solid var(--border) !important;
  background-color: var(--secondary) !important;
}
.ql-toolbar .ql-formats:not(:last-child) {
  border-right: 1px solid var(--border) !important;
  padding-right: 12px !important;
}
.ql-container {
  border: none !important;
  height: unset !important;
  background-color: var(--background) !important;
}
.ql-editor {
  line-height: 22px !important;
  padding: 8px 12px !important;
  color: var(--foreground) !important;
  font-weight: 400 !important;
  font-family: "Lato", sans-serif !important;
  font-size: 14px !important;
}

/* Quill toolbar icon colors (light/dark via variables) */
.ql-toolbar .ql-stroke {
  stroke: var(--muted-foreground) !important;
}
.ql-toolbar .ql-fill {
  fill: var(--muted-foreground) !important;
}

.ql-toolbar button:hover .ql-stroke,
.ql-toolbar button:focus .ql-stroke,
.ql-toolbar .ql-picker-label:hover .ql-stroke,
.ql-toolbar .ql-picker-item:hover .ql-stroke {
  stroke: var(--foreground) !important;
}

.ql-toolbar button:hover .ql-fill,
.ql-toolbar button:focus .ql-fill,
.ql-toolbar .ql-picker-label:hover .ql-fill,
.ql-toolbar .ql-picker-item:hover .ql-fill {
  fill: var(--foreground) !important;
}

.ql-toolbar button.ql-active .ql-stroke,
.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
.ql-toolbar .ql-picker-item.ql-selected .ql-stroke {
  stroke: var(--primary) !important;
}

.ql-toolbar button.ql-active .ql-fill,
.ql-toolbar .ql-picker-label.ql-active .ql-fill,
.ql-toolbar .ql-picker-item.ql-selected .ql-fill {
  fill: var(--primary) !important;
}

.ql-toolbar .ql-picker-label {
  color: var(--muted-foreground) !important;
}
.ql-toolbar .ql-picker-label:hover,
.ql-toolbar .ql-picker-label.ql-active {
  color: var(--foreground) !important;
}

.ql-toolbar .ql-picker-options {
  background-color: var(--popover) !important;
  color: var(--foreground) !important;
  border: 1px solid var(--border) !important;
}
.ql-toolbar .ql-picker-options .ql-picker-item {
  color: var(--foreground) !important;
}
.ql-toolbar .ql-picker-options .ql-picker-item:hover {
  color: var(--primary) !important;
}

/* Theme-specific Quill toolbar active states */
.theme-ocean .ql-toolbar button.ql-active .ql-stroke,
.theme-ocean .ql-toolbar button.ql-active .ql-fill {
  stroke: var(--primary) !important;
  fill: var(--primary) !important;
}

.theme-graphite .ql-toolbar button.ql-active .ql-stroke,
.theme-graphite .ql-toolbar button.ql-active .ql-fill {
  stroke: var(--primary) !important;
  fill: var(--primary) !important;
}

.theme-sunset .ql-toolbar button.ql-active .ql-stroke,
.theme-sunset .ql-toolbar button.ql-active .ql-fill {
  stroke: var(--primary) !important;
  fill: var(--primary) !important;
}

.theme-uru .ql-toolbar button.ql-active .ql-stroke,
.theme-uru .ql-toolbar button.ql-active .ql-fill {
  stroke: var(--primary) !important;
  fill: var(--primary) !important;
}

.theme-midnight .ql-toolbar button.ql-active .ql-stroke,
.theme-midnight .ql-toolbar button.ql-active .ql-fill {
  stroke: var(--primary) !important;
  fill: var(--primary) !important;
}

.ql-editor a {
  color: #1264a3 !important;
}
.ql-editor a:hover {
  text-decoration: underline !important;
}
.ql-renderer {
  padding: 0 !important;
}
.ql-editor::before {
  left: 12px !important;
  font-family: "Lato", sans-serif !important;
  color: var(--muted-foreground) !important;
  font-style: normal !important;
  font-size: 14px !important;
  font-weight: 400 !important;
  @apply truncate;
}

.messages-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: #b2b8bb var(--background);
}

img {
  user-drag: none !important;
  -webkit-user-drag: none !important;
  -khtml-user-drag: none !important;
  -moz-user-drag: none !important;
  -o-user-drag: none !important;
  user-select: none !important;
  -webkit-user-select: none !important;
  -khtml-user-select: none !important;
  -moz-user-select: none !important;
  -o-user-select: none !important;
}
